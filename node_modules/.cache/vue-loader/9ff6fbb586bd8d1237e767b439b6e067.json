{"remainingRequest":"/Users/Jeff/Documents/workspace-vs/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jeff/Documents/workspace-vs/vue-admin/src/components/CityPicker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jeff/Documents/workspace-vs/vue-admin/src/components/CityPicker/index.vue","mtime":1614522479673},{"path":"/Users/Jeff/Documents/workspace-vs/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace-vs/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1613959810487},{"path":"/Users/Jeff/Documents/workspace-vs/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace-vs/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1613959818680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNpdHlQaWNrZXIgfSBmcm9tICJAL21peGlucy9jaXR5UGlja2VyIgppbXBvcnQgeyB3YXRjaCwgb25CZWZvcmVNb3VudCwgcmVhY3RpdmUgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaScKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogImNpdHlQaWNrZXIiLAogICAgcHJvcHM6IHsKICAgICAgICBjaXR5UGlja2VyTGV2ZWw6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICAgICAgfSwKICAgICAgICBjaXR5UGlja2VyRGF0YTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHt9CiAgICAgICAgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IGVtaXQgfSl7CiAgICAgICAgLy8g5Yid5aeL5YyW55yB5biC5Yy66KGX6IGU5YqoCiAgICAgICAgY29uc3QgaW5pdCA9IHJlYWN0aXZlKHsKICAgICAgICAgICAgcHJvdmluY2U6IGZhbHNlLAogICAgICAgICAgICBjaXR5OiBmYWxzZSwKICAgICAgICAgICAgYXJlYTogZmFsc2UsCiAgICAgICAgICAgIHN0cmVldDogZmFsc2UsCiAgICAgICAgfSkKICAgICAgICAvLyDnur/ku7bmlrnms5UKICAgICAgICBjb25zdCB7IGdldFByb3ZpbmNlLCAgaGFuZGxlclByb3ZpbmNlLCBoYW5kbGVyQ2l0eSwgaGFuZGxlckFyZWEsIGhhbmRsZXJTdHJlZXQsIGRhdGEsIHJlc3VsdERhdGEgfSA9IGNpdHlQaWNrZXIoKTsKICAgICAgICAvKioKICAgICAgICAgKiDliJ3lp4vljJYKICAgICAgICAgKi8KICAgICAgICBjb25zdCBpbml0Q2lleVBpY2tlciA9ICgpID0+IHsKICAgICAgICAgICAgbGV0IGluaXREYXRhID0gcHJvcHMuY2l0eVBpY2tlckxldmVsCiAgICAgICAgICAgIGlmKGluaXREYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICBmb3IobGV0IGtleSBpbiBpbml0KSB7CiAgICAgICAgICAgICAgICAgICAgaW5pdFtrZXldID0gdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGluaXREYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaW5pdFtpdGVtXSA9IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8qKgogICAgICAgICAqIAogICAgICAgICAqLwogICAgICAgIHdhdGNoKFsKICAgICAgICAgICAgKCkgPT4gcmVzdWx0RGF0YS5wcm92aW5jZVZhbHVlLAogICAgICAgICAgICAoKSA9PiByZXN1bHREYXRhLmNpdHlWYWx1ZSwKICAgICAgICAgICAgKCkgPT4gcmVzdWx0RGF0YS5hcmVhVmFsdWUsCiAgICAgICAgICAgICgpID0+IHJlc3VsdERhdGEuc3RyZWV0VmFsdWUsCiAgICAgICAgXSwgKFtwcm92aW5jZSwgY2l0eSwgYXJlYSwgc3RyZWV0XSkgPT4gewogICAgICAgICAgICBlbWl0KCJ1cGRhdGU6Y2l0eVBpY2tlckRhdGEiLCByZXN1bHREYXRhKQogICAgICAgIH0pCgoKCiAgICAgICAgb25CZWZvcmVNb3VudCgoKSA9PiB7CiAgICAgICAgICAgIC8vIOWIneWni+WMlgogICAgICAgICAgICBpbml0Q2lleVBpY2tlcigpCiAgICAgICAgICAgIC8vIOiOt+WPluecgeS7vQogICAgICAgICAgICBnZXRQcm92aW5jZSgpCiAgICAgICAgfSkKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW5pdCwKICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgaGFuZGxlclByb3ZpbmNlLAogICAgICAgICAgICBoYW5kbGVyQ2l0eSwKICAgICAgICAgICAgaGFuZGxlckFyZWEsCiAgICAgICAgICAgIGhhbmRsZXJTdHJlZXQKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/CityPicker","sourcesContent":["<template>\n    <div class=\"overflow-h\">\n        <el-row :gutter=\"10\">\n            <el-col :span=\"6\" v-if=\"init.province\">\n                <el-select v-model=\"data.provinceValue\" @change=\"handlerProvince\">\n                    <el-option v-for=\"item in data.provinceData\" :key=\"item.PROVINCE_CODE\" :value=\"item.PROVINCE_CODE\" :label=\"item.PROVINCE_NAME\"></el-option>\n                </el-select>\n            </el-col>\n            <el-col :span=\"6\" v-if=\"init.city\">\n                <el-select v-model=\"data.cityValue\" @change=\"handlerCity\">\n                    <el-option v-for=\"item in data.cityData\" :key=\"item.CITY_CODE\" :value=\"item.CITY_CODE\" :label=\"item.CITY_NAME\"></el-option>\n                </el-select>\n            </el-col>\n            <el-col :span=\"6\" v-if=\"init.area\">\n                <el-select v-model=\"data.areaValue\" @change=\"handlerArea\">\n                    <el-option v-for=\"item in data.areaData\" :key=\"item.AREA_CODE\" :value=\"item.AREA_CODE\" :label=\"item.AREA_NAME\"></el-option>\n                </el-select>\n            </el-col>\n            <el-col :span=\"6\" v-if=\"init.street\">\n                <el-select v-model=\"data.streetValue\" @change=\"handlerStreet\">\n                    <el-option v-for=\"item in data.streetData\" :key=\"item.STREET_CODE\" :value=\"item.STREET_CODE\" :label=\"item.STREET_NAME\"></el-option>\n                </el-select>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n<script>\nimport { cityPicker } from \"@/mixins/cityPicker\"\nimport { watch, onBeforeMount, reactive } from '@vue/composition-api'\nexport default {\n    name: \"cityPicker\",\n    props: {\n        cityPickerLevel: {\n            type: Array,\n            default: () => []\n        },\n        cityPickerData: {\n            type: Object,\n            default: () => {}\n        }\n    },\n    setup(props, { emit }){\n        // 初始化省市区街联动\n        const init = reactive({\n            province: false,\n            city: false,\n            area: false,\n            street: false,\n        })\n        // 线件方法\n        const { getProvince,  handlerProvince, handlerCity, handlerArea, handlerStreet, data, resultData } = cityPicker();\n        /**\n         * 初始化\n         */\n        const initCieyPicker = () => {\n            let initData = props.cityPickerLevel\n            if(initData.length == 0) {\n                for(let key in init) {\n                    init[key] = true\n                }\n            }else{\n                initData.forEach(item => {\n                    init[item] = true\n                });\n            }\n        }\n        /**\n         * \n         */\n        watch([\n            () => resultData.provinceValue,\n            () => resultData.cityValue,\n            () => resultData.areaValue,\n            () => resultData.streetValue,\n        ], ([province, city, area, street]) => {\n            emit(\"update:cityPickerData\", resultData)\n        })\n\n\n\n        onBeforeMount(() => {\n            // 初始化\n            initCieyPicker()\n            // 获取省份\n            getProvince()\n        })\n\n        return {\n            init,\n            data,\n            handlerProvince,\n            handlerCity,\n            handlerArea,\n            handlerStreet\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n\n</style>"]}]}