{"remainingRequest":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jeff/Documents/workspace/vue-admin/src/views/Login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jeff/Documents/workspace/vue-admin/src/views/Login/index.vue","mtime":1614758485412},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1613959810487},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1613959818680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzaGExIGZyb20gJ2pzLXNoYTEnOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7IEdldFNtcywgUmVnaXN0ZXIsIExvZ2luIH0gZnJvbSAiQC9hcGkvbG9naW4iOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmLCBpc1JlZiwgdG9SZWZzLCBvbk1vdW50ZWQsIHdhdGNoLCBvblVubW91bnRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgc3RyaXBzY3JpcHQsIHZhbGlkYXRlUGFzcywgdmFsaWRhdGVFbWFpbCwgdmFsaWRhdGVWQ29kZSB9IGZyb20gJ0AvdXRpbHMvdmFsaWRhdGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnbG9naW4nLAogICAgLy8gc2V0dXAocHJvcHMsIGNvbnRleHQpewogICAgLyoqCiAgICAgKmF0dHJzOiAoLi4uKSA9PSB0aGlzLiRhdHRycwogICAgICBlbWl0OiAoLi4uKSA9PSB0aGlzLiRlbWl0CiAgICAgIGxpc3RlbmVyczogKC4uLikgPT0gdGhpcy4kbGlzdGVuZXJzCiAgICAgIHBhcmVudDogKC4uLikgPT0gdGhpcy4kcGFyZW50CiAgICAgIHJlZnM6ICguLi4pID09IHRoaXMuJHJlZnMKICAgICAgcm9vdDogKC4uLikgPT0gdGhpcwogICAgICAqLwogICAgc2V0dXAocHJvcHMsIHsgcmVmcywgcm9vdCB9KXsKICAgICAgLy8g6aqM6K+B55So5oi35ZCNCiAgICAgIGxldCB2YWxpZGF0ZVVzZXJuYW1lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl55So5oi35ZCNJykpOwogICAgICAgIH0gZWxzZSBpZih2YWxpZGF0ZUVtYWlsKHZhbHVlKSl7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+eUqOaIt+WQjeagvOW8j+acieivrycpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsgLy90cnVlCiAgICAgICAgfQogICAgICB9OwogICAgICAvLyDpqozor4Hlr4bnoIEKICAgICAgbGV0IHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgLy8g6L+H5ruk5ZCO55qE5pWw5o2uCiAgICAgICAgcnVsZUZvcm0ucGFzc3dvcmQgPSBzdHJpcHNjcmlwdCh2YWx1ZSk7CiAgICAgICAgdmFsdWUgPSBydWxlRm9ybS5wYXNzd29yZDsKICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeWvhueggSIpKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbGlkYXRlUGFzcyh2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5Li6NuiHszIw5L2N5pWw5a2XK+Wtl+avjSIpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8vIOmqjOivgemHjeWkjeWvhueggQogICAgICBsZXQgdmFsaWRhdGVQYXNzd29yZHMgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgLy8g5aaC5p6c5qih5Z2X5YC85Li6bG9naW4sIOebtOaOpemAmui/hwogICAgICAgIGlmKG1vZGVsLnZhbHVlID09PSAnbG9naW4nKSB7IGNhbGxiYWNrKCk7IH0KICAgICAgICAvLyDov4fmu6TlkI7nmoTmlbDmja4KICAgICAgICBydWxlRm9ybS5wYXNzd29yZHMgPSBzdHJpcHNjcmlwdCh2YWx1ZSk7CiAgICAgICAgdmFsdWUgPSBydWxlRm9ybS5wYXNzd29yZHM7CiAgICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBydWxlRm9ybS5wYXNzd29yZCkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfph43lpI3lr4bnoIHkuI3mraPnoa4nKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICAvLyDpqozor4Hpqozor4HnoIEKICAgICAgbGV0IHZhbGlkYXRlQ29kZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXpqozor4HnoIEnKSk7CiAgICAgICAgfWVsc2UgaWYodmFsaWRhdGVWQ29kZSh2YWx1ZSkpewogICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6aqM6K+B56CB5qC85byP5pyJ6K+vJykpOwogICAgICAgIH1lbHNlewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgICAgICog5aOw5piO5pWw5o2uCiAgICAgICAqLwogICAgICAvLyDov5nph4zpnaLmlL7nva5kYXRh5pWw5o2u44CB55Sf5ZG95ZGo5pyf44CB6Ieq5a6a5LmJ55qE5Ye95pWwCiAgICAgIGNvbnN0IG1lbnVUYWIgPSByZWFjdGl2ZShbCiAgICAgICAgeyB0eHQ6ICfnmbvlvZUnLCBjdXJyZW50OiB0cnVlLCB0eXBlOiAnbG9naW4nIH0sCiAgICAgICAgeyB0eHQ6ICfms6jlhownLCBjdXJyZW50OiBmYWxzZSwgdHlwZTogJ3JlZ2lzdGVyJyB9CiAgICAgIF0pOwogICAgICAvLyDmqKHlnZflgLwgCiAgICAgIGNvbnN0IG1vZGVsID0gcmVmKCdsb2dpbicpOwogICAgICAvLyDnmbvlvZXmjInpkq7npoHnlKjnirbmgIEKICAgICAgY29uc3QgbG9naW5CdXR0b25TdGF0dXMgPSByZWYodHJ1ZSk7CiAgICAgIC8vIOmqjOivgeeggeaMiemSrueKtuaAgQogICAgICBjb25zdCBjb2RlQnV0dG9uU3RhdHVzID0gcmVhY3RpdmUoCiAgICAgICAgewogICAgICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgICAgIHRleHQ6ICfojrflj5bpqozor4HnoIEnCiAgICAgICAgfQogICAgICApOwogICAgICAvLyDlgJLorqHml7YKICAgICAgY29uc3QgdGltZXIgPSByZWYobnVsbCk7CiAgICAgIC8vIOihqOWNlee7keWumuaVsOaNrgogICAgICBjb25zdCBydWxlRm9ybSA9IHJlYWN0aXZlKHsKICAgICAgICB1c2VybmFtZTogJzI0MTI1MjYyNzFAcXEuY29tJywKICAgICAgICBwYXNzd29yZDogJ3dvMTIzNDU2JywKICAgICAgICBwYXNzd29yZHM6ICd3bzEyMzQ1NicsCiAgICAgICAgY29kZTogJycKICAgICAgfSk7CiAgICAgIC8vIOihqOWNleeahOmqjOivgQogICAgICBjb25zdCBydWxlcyA9IHJlYWN0aXZlKHsKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlVXNlcm5hbWUsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZHM6IFsKICAgICAgICAgIHsgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkcywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIGNvZGU6IFsKICAgICAgICAgIHsgdmFsaWRhdG9yOiB2YWxpZGF0ZUNvZGUsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9KTsKICAgICAgLyoqCiAgICAgICAqIDHjgIHkuI3lu7rorq7lnKjkuIDkuKrmlrnms5Xph4zpnaLlgZrlpJrku7bkuI3lkIznmoTkuovku7bvvIjlsL3lj6/og73lj6rlgZroh6rlt7HmnKzouqvnmoTkuovvvIzkuI3opoHlgZrlhbbku5bkurrnmoTkuovmg4XvvIkKICAgICAgICogMuOAgeWwvemHj+aKiuebuOWQjOeahOS6i+aDheWwgeijheS4gOS4quaWueazlemHjOmdou+8jOmAmui/h+iwg+eUqOWHveaVsOi/m+ihjOaJp+ihjAogICAgICAgKi8KICAgICAgLyoqCiAgICAgICAqIOWjsOaYjuWHveaVsAogICAgICAgKi8KICAgICAgLy8g5YiH5o2i5qih5Z2XCiAgICAgIGNvbnN0IHRvZ2dsZU1lbnUgPSAoZGF0YSA9PiB7CiAgICAgICAgbWVudVRhYi5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4gewogICAgICAgICAgZWxlbS5jdXJyZW50ID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgLy8g6auY5YWJCiAgICAgICAgZGF0YS5jdXJyZW50ID0gdHJ1ZTsKICAgICAgICAvLyDkv67mlLnmqKHlnZflgLwKICAgICAgICBtb2RlbC52YWx1ZSA9IGRhdGEudHlwZTsKICAgICAgICByZXNldEZyb21EYXRhKCkKICAgICAgICBjbGVhckNvdW50RG93bigpCiAgICAgIH0pOwogICAgICAvLyDmuIXpmaTooajljZXmlbDmja4KICAgICAgY29uc3QgcmVzZXRGcm9tRGF0YSA9ICgoKSA9PiB7CiAgICAgICAgLy8g6YeN572u6KGo5Y2VCiAgICAgICAgLy8gdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsgLy8yLjAKICAgICAgICByZWZzLmxvZ2luRm9ybS5yZXNldEZpZWxkcygpOyAgLy8gMy4wCiAgICAgIH0pCiAgICAgIC8vIOabtOaWsOaMiemSrueKtuaAgQogICAgICBjb25zdCB1cGRhdGFCdXR0b25TdGF0dXMgPSAoKHBhcmFtcykgPT4gewogICAgICAgIGNvZGVCdXR0b25TdGF0dXMuc3RhdHVzID0gcGFyYW1zLnN0YXR1czsKICAgICAgICBjb2RlQnV0dG9uU3RhdHVzLnRleHQgPSBwYXJhbXMudGV4dDsKICAgICAgfSkKICAgICAgY29uc3QgZ2V0U21zID0gKCgpID0+IHsKICAgICAgICAvLyDov5vooYzmj5DnpLoKICAgICAgICBpZihydWxlRm9ybS51c2VybmFtZSA9PSAnJyApIHsKICAgICAgICAgIHJvb3QuJG1lc3NhZ2UuZXJyb3IoJ+mCrueuseS4jeiDveS4uuepuu+8ge+8gScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZih2YWxpZGF0ZUVtYWlsKHJ1bGVGb3JtLnVzZXJuYW1lKSkgewogICAgICAgICAgcm9vdC4kbWVzc2FnZS5lcnJvcign6YKu566x5qC85byP5pyJ6K+v77yM6K+36YeN5paw6L6T5YWl77yB77yBJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIC8vIOiOt+WPlumqjOivgeeggQogICAgICAgIGxldCByZXF1ZXN0RGF0YSA9IHsKICAgICAgICAgIHVzZXJuYW1lOiBydWxlRm9ybS51c2VybmFtZSwgCiAgICAgICAgICBtb2R1bGU6IG1vZGVsLnZhbHVlCiAgICAgICAgfQogICAgICAgIC8vIOS/ruaUueiOt+WPlumqjOivgeaMiemSrueKtuaAgQogICAgICAgIHVwZGF0YUJ1dHRvblN0YXR1cyh7CiAgICAgICAgICBzdGF0dXM6IHRydWUsCiAgICAgICAgICB0ZXh0OiAn5Y+R6YCB5LitJwogICAgICAgIH0pCiAgICAgICAgLy8g5bu25pe25aSa6ZW/5pe26Ze0CiAgICAgICAgR2V0U21zKHJlcXVlc3REYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIHJvb3QuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIOWQr+eUqOeZu+W9leaIluazqOWGjOaMiemSrgogICAgICAgICAgbG9naW5CdXR0b25TdGF0dXMudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIC8vIOiwg+WumuaXtuWZqO+8jOWAkuiuoeaXtgogICAgICAgICAgY291bnREb3duKDYwKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAvLyDlkK/nlKjnmbvlvZXmiJbms6jlhozmjInpkq4KICAgICAgICAgIGxvZ2luQnV0dG9uU3RhdHVzLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICB1cGRhdGFCdXR0b25TdGF0dXMoewogICAgICAgICAgICBzdGF0dXM6IGZhbHNlLAogICAgICAgICAgICB0ZXh0OiAn5YaN5qyh6I635Y+WJwogICAgICAgICAgfSkKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KQogICAgICB9KQogICAgICAvKioKICAgICAgICog5o+Q5Lqk6KGo5Y2VCiAgICAgICAqLwogICAgICBjb25zdCBzdWJtaXRGb3JtID0gKGZvcm1OYW1lID0+IHsKICAgICAgICByZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgIC8vIOihqOWNlemqjOivgemAmui/hwogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIC8vIOS4ieWFg+i/kOeulwogICAgICAgICAgICBtb2RlbC52YWx1ZSA9PT0gJ2xvZ2luJyA/IGxvZ2luKCkgOiByZWdpc3RlcigpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pIAogICAgICAvKioKICAgICAgICog55m75b2VCiAgICAgICAqLwogICAgICBjb25zdCBsb2dpbiA9ICgoKSA9PiB7CiAgICAgICAgbGV0IHJlcHVlc3REYXRhID0gewogICAgICAgICAgdXNlcm5hbWU6IHJ1bGVGb3JtLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHNoYTEocnVsZUZvcm0ucGFzc3dvcmQpLAogICAgICAgICAgY29kZTogcnVsZUZvcm0uY29kZQogICAgICAgIH0KICAgICAgICByb290LiRzdG9yZS5kaXNwYXRjaCgnYXBwL2xvZ2luJywgcmVwdWVzdERhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgLy8g6aG16Z2i6Lez6L2sCiAgICAgICAgICByb290LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdDb25zb2xlJwogICAgICAgICAgfSkKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7fSk7CiAgICAgIH0pCiAgICAgIC8qKgogICAgICAgKiDms6jlhowKICAgICAgICovCiAgICAgIGNvbnN0IHJlZ2lzdGVyID0gKCgpID0+IHsKICAgICAgICBsZXQgcmVxdWVzdERhdGEgPSB7CiAgICAgICAgICB1c2VybmFtZTogcnVsZUZvcm0udXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogc2hhMShydWxlRm9ybS5wYXNzd29yZCksCiAgICAgICAgICBjb2RlOiBydWxlRm9ybS5jb2RlLAogICAgICAgICAgbW9kdWxlOiAncmVnaXN0ZXInCiAgICAgICAgfQogICAgICAgIC8vIOazqOWGjOaOpeWPowogICAgICAgIFJlZ2lzdGVyKHJlcXVlc3REYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgcm9vdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KQogICAgICAgICAgLy8g5qih5ouf5rOo5YaM5oiQ5YqfCiAgICAgICAgICB0b2dnbGVNZW51KG1lbnVUYWJbMF0pCiAgICAgICAgICBjbGVhckNvdW50RG93bigpCiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgLy8g5aSx6LSl5pe25omn6KGM55qE5Luj56CBCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgLyoqCiAgICAgICAqIOWAkuiuoeaXtgogICAgICAgKi8KICAgICAgY29uc3QgY291bnREb3duID0gKChudW1iZXIpID0+IHsKICAgICAgICAvLyA2MCDlkowgMOS4jeingeS6hu+8jOaVheaEj+eVmUJVRwogICAgICAgIC8vIHNldFRpbWVvdXQ6Y2xlYXJUaW1lb3V0KOWPmOmHjykgIOWPquaJp+ihjOS4gOasoQogICAgICAgIC8vIHNldEludGVydmFsOmNsZWFySW50ZXJ2YWwo5Y+Y6YePKSkgIOS4jeaWreeahOaJp+ihjO+8jOmcgOimgeadoeS7tuaJjeS8muWBnOatogogICAgICAgIC8vIOWIpOaWreWumuaXtuWZqOaYr+WQpuWtmOWcqO+8jOWtmOWcqOWImea4hemZpAogICAgICAgIGlmKHRpbWVyLnZhbHVlKSB7IGNsZWFySW50ZXJ2YWwodGltZXIudmFsdWUpOyB9CiAgICAgICAgbGV0IHRpbWUgPSBudW1iZXIKICAgICAgICB0aW1lci52YWx1ZSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIHRpbWUtLTsKICAgICAgICAgIGlmKHRpbWUgPT09IDApIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lci52YWx1ZSkKICAgICAgICAgICAgdXBkYXRhQnV0dG9uU3RhdHVzKHsKICAgICAgICAgICAgICBzdGF0dXM6IGZhbHNlLAogICAgICAgICAgICAgIHRleHQ6ICflho3mrKHojrflj5YnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgY29kZUJ1dHRvblN0YXR1cy50ZXh0ID0gYOWAkuiuoeaXtiR7dGltZX3np5JgICAgLy8gZXM1ICflgJLorqHml7YnICsgdGltZSArICfnp5InCiAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCkKICAgICAgfSkKICAgICAgLyoqCiAgICAgICAqIOa4hemZpOWAkuiuoeaXtgogICAgICAgKi8KICAgICAgY29uc3QgY2xlYXJDb3VudERvd24gPSAoKCkgPT4gewogICAgICAgIC8vIOi/mOWOn+mqjOivgeeggeaMiemSrum7mOiupOeKtuaAgQogICAgICAgIHVwZGF0YUJ1dHRvblN0YXR1cyh7CiAgICAgICAgICBzdGF0dXM6IGZhbHNlLAogICAgICAgICAgdGV4dDogJ+iOt+WPlumqjOivgeeggScKICAgICAgICB9KQogICAgICAgIC8vIOa4hemZpOWAkuiuoeaXtgogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIudmFsdWUpCiAgICAgIH0pCiAgICAgIC8qKgogICAgICAgKiDnlJ/lkb3lkajmnJ8KICAgICAgICovCiAgICAgIC8vIOaMgui9veWujOaIkOWQjgogICAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAgIAogICAgICB9KQogICAgICAvKioKICAgICAgICog6ZSA5q+B6aG16Z2i5pe2CiAgICAgICAqLwogICAgICBvblVubW91bnRlZCgoKSA9PiB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lci52YWx1ZSk7CiAgICAgIH0pCiAgICAgIHJldHVybiB7CiAgICAgICAgbWVudVRhYiwKICAgICAgICBtb2RlbCwKICAgICAgICBsb2dpbkJ1dHRvblN0YXR1cywKICAgICAgICBjb2RlQnV0dG9uU3RhdHVzLAogICAgICAgIHJ1bGVGb3JtLAogICAgICAgIHJ1bGVzLAogICAgICAgIHRpbWVyLAogICAgICAgIHRvZ2dsZU1lbnUsCiAgICAgICAgc3VibWl0Rm9ybSwKICAgICAgICBnZXRTbXMKICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-wrap\">\n      <ul class=\"menu-tab\">\n        <li v-for=\"item in menuTab\" :key=\"item.id\" :class=\"{'current': item.current}\" @click=\"toggleMenu(item)\">\n          {{ item.txt }}\n        </li>\n      </ul>\n      <svg-icon icon-name=\"menu\" class-name=\"menu\"></svg-icon>\n      <!--表单 start-->\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"loginForm\" class=\"login-form\" size=\"medium\">\n        <el-form-item prop=\"username\" class=\"item-from\">\n          <label for=\"username\">邮箱</label>\n          <el-input id=\"username\" type=\"text\" v-model=\"ruleForm.username\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"password\" class=\"item-from\">\n          <label for=\"password\">密码</label>\n          <el-input id=\"password\" type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" minlength=\"6\" maxlength=\"20\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"passwords\" class=\"item-from\" v-show=\"model === 'register'\">\n          <label>重复密码</label>\n          <el-input type=\"password\" v-model=\"ruleForm.passwords\" autocomplete=\"off\" minlength=\"6\" maxlength=\"20\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"code\" class=\"item-from\">\n          <label>验证码</label>\n          <el-row :gutter=\"10\">\n            <el-col :span=\"15\">\n              <el-input v-model=\"ruleForm.code\" minlength=\"6\" maxlength=\"6\"></el-input>\n            </el-col>\n            <el-col :span=\"9\">\n              <el-button type=\"success\" class=\"block\" @click=\"getSms()\" :disabled=\"codeButtonStatus.status\">{{ codeButtonStatus.text }}</el-button>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"danger\" @click=\"submitForm('loginForm')\" class=\"login-btn block\" :disabled=\"loginButtonStatus\">{{ model === 'login' ? \"登录\" : \"注册\" }}</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script>\nimport sha1 from 'js-sha1';\nimport { Message } from 'element-ui';\nimport { GetSms, Register, Login } from \"@/api/login\";\nimport { reactive, ref, isRef, toRefs, onMounted, watch, onUnmounted } from '@vue/composition-api';\nimport { stripscript, validatePass, validateEmail, validateVCode } from '@/utils/validate';\nexport default {\n    name: 'login',\n    // setup(props, context){\n    /**\n     *attrs: (...) == this.$attrs\n      emit: (...) == this.$emit\n      listeners: (...) == this.$listeners\n      parent: (...) == this.$parent\n      refs: (...) == this.$refs\n      root: (...) == this\n      */\n    setup(props, { refs, root }){\n      // 验证用户名\n      let validateUsername = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入用户名'));\n        } else if(validateEmail(value)){\n          callback(new Error('用户名格式有误'));\n        } else {\n          callback(); //true\n        }\n      };\n      // 验证密码\n      let validatePassword = (rule, value, callback) => {\n        // 过滤后的数据\n        ruleForm.password = stripscript(value);\n        value = ruleForm.password;\n        if (value === '') {\n          callback(new Error(\"请输入密码\"));\n        } else if (validatePass(value)) {\n          callback(new Error(\"密码为6至20位数字+字母\"));\n        } else {\n          callback();\n        }\n      };\n      // 验证重复密码\n      let validatePasswords = (rule, value, callback) => {\n        // 如果模块值为login, 直接通过\n        if(model.value === 'login') { callback(); }\n        // 过滤后的数据\n        ruleForm.passwords = stripscript(value);\n        value = ruleForm.passwords;\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value != ruleForm.password) {\n          callback(new Error('重复密码不正确'));\n        } else {\n          callback();\n        }\n      };\n      // 验证验证码\n      let validateCode = (rule, value, callback) => {\n        if (value === '') {\n          return callback(new Error('请输入验证码'));\n        }else if(validateVCode(value)){\n          return callback(new Error('验证码格式有误'));\n        }else{\n          callback();\n        }\n      };\n      /*********************************************************************************************************************\n       * 声明数据\n       */\n      // 这里面放置data数据、生命周期、自定义的函数\n      const menuTab = reactive([\n        { txt: '登录', current: true, type: 'login' },\n        { txt: '注册', current: false, type: 'register' }\n      ]);\n      // 模块值 \n      const model = ref('login');\n      // 登录按钮禁用状态\n      const loginButtonStatus = ref(true);\n      // 验证码按钮状态\n      const codeButtonStatus = reactive(\n        {\n          status: false,\n          text: '获取验证码'\n        }\n      );\n      // 倒计时\n      const timer = ref(null);\n      // 表单绑定数据\n      const ruleForm = reactive({\n        username: '2412526271@qq.com',\n        password: 'wo123456',\n        passwords: 'wo123456',\n        code: ''\n      });\n      // 表单的验证\n      const rules = reactive({\n        username: [\n          { validator: validateUsername, trigger: 'blur' }\n        ],\n        password: [\n          { validator: validatePassword, trigger: 'blur' }\n        ],\n        passwords: [\n          { validator: validatePasswords, trigger: 'blur' }\n        ],\n        code: [\n          { validator: validateCode, trigger: 'blur' }\n        ]\n      });\n      /**\n       * 1、不建议在一个方法里面做多件不同的事件（尽可能只做自己本身的事，不要做其他人的事情）\n       * 2、尽量把相同的事情封装一个方法里面，通过调用函数进行执行\n       */\n      /**\n       * 声明函数\n       */\n      // 切换模块\n      const toggleMenu = (data => {\n        menuTab.forEach((elem, index) => {\n          elem.current = false;\n        });\n        // 高光\n        data.current = true;\n        // 修改模块值\n        model.value = data.type;\n        resetFromData()\n        clearCountDown()\n      });\n      // 清除表单数据\n      const resetFromData = (() => {\n        // 重置表单\n        // this.$refs[formName].resetFields(); //2.0\n        refs.loginForm.resetFields();  // 3.0\n      })\n      // 更新按钮状态\n      const updataButtonStatus = ((params) => {\n        codeButtonStatus.status = params.status;\n        codeButtonStatus.text = params.text;\n      })\n      const getSms = (() => {\n        // 进行提示\n        if(ruleForm.username == '' ) {\n          root.$message.error('邮箱不能为空！！');\n          return false;\n        }\n        if(validateEmail(ruleForm.username)) {\n          root.$message.error('邮箱格式有误，请重新输入！！');\n          return false;\n        }\n        // 获取验证码\n        let requestData = {\n          username: ruleForm.username, \n          module: model.value\n        }\n        // 修改获取验证按钮状态\n        updataButtonStatus({\n          status: true,\n          text: '发送中'\n        })\n        // 延时多长时间\n        GetSms(requestData).then(response => {\n          let data = response.data;\n          root.$message({\n            message: data.message,\n            type: 'success',\n            dangerouslyUseHTMLString: true\n          });\n          // 启用登录或注册按钮\n          loginButtonStatus.value = false;\n          // 调定时器，倒计时\n          countDown(60);\n        }).catch(error => {\n          // 启用登录或注册按钮\n          loginButtonStatus.value = false;\n          updataButtonStatus({\n            status: false,\n            text: '再次获取'\n          })\n          console.log(error);\n        })\n      })\n      /**\n       * 提交表单\n       */\n      const submitForm = (formName => {\n        refs[formName].validate((valid) => {\n          // 表单验证通过\n          if (valid) {\n            // 三元运算\n            model.value === 'login' ? login() : register()\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        })\n      }) \n      /**\n       * 登录\n       */\n      const login = (() => {\n        let repuestData = {\n          username: ruleForm.username,\n          password: sha1(ruleForm.password),\n          code: ruleForm.code\n        }\n        root.$store.dispatch('app/login', repuestData).then(response => {\n          // 页面跳转\n          root.$router.push({\n            name: 'Console'\n          })\n        }).catch(error => {});\n      })\n      /**\n       * 注册\n       */\n      const register = (() => {\n        let requestData = {\n          username: ruleForm.username,\n          password: sha1(ruleForm.password),\n          code: ruleForm.code,\n          module: 'register'\n        }\n        // 注册接口\n        Register(requestData).then(response => {\n          let data = response.data\n          root.$message({\n            message: data.message,\n            type: 'success'\n          })\n          // 模拟注册成功\n          toggleMenu(menuTab[0])\n          clearCountDown()\n        }).catch(error => {\n          // 失败时执行的代码\n        })\n      })\n      /**\n       * 倒计时\n       */\n      const countDown = ((number) => {\n        // 60 和 0不见了，故意留BUG\n        // setTimeout:clearTimeout(变量)  只执行一次\n        // setInterval:clearInterval(变量))  不断的执行，需要条件才会停止\n        // 判断定时器是否存在，存在则清除\n        if(timer.value) { clearInterval(timer.value); }\n        let time = number\n        timer.value = setInterval(() => {\n          time--;\n          if(time === 0) {\n            clearInterval(timer.value)\n            updataButtonStatus({\n              status: false,\n              text: '再次获取'\n            })\n          }else{\n            codeButtonStatus.text = `倒计时${time}秒`   // es5 '倒计时' + time + '秒'\n          }\n        }, 1000)\n      })\n      /**\n       * 清除倒计时\n       */\n      const clearCountDown = (() => {\n        // 还原验证码按钮默认状态\n        updataButtonStatus({\n          status: false,\n          text: '获取验证码'\n        })\n        // 清除倒计时\n        clearInterval(timer.value)\n      })\n      /**\n       * 生命周期\n       */\n      // 挂载完成后\n      onMounted(() => {\n        \n      })\n      /**\n       * 销毁页面时\n       */\n      onUnmounted(() => {\n        clearInterval(timer.value);\n      })\n      return {\n        menuTab,\n        model,\n        loginButtonStatus,\n        codeButtonStatus,\n        ruleForm,\n        rules,\n        timer,\n        toggleMenu,\n        submitForm,\n        getSms\n      }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n#login {\n  height: 100vh;\n  background-color: #344a5f;\n}\n.login-wrap {\n  width: 330px;\n  margin: auto;\n}\n.menu-tab {\n  text-align: center;\n  li {\n    display: inline-block;\n    width: 88px;\n    line-height: 36px;\n    font-size: 14px;\n    color: #fff;\n    border-radius: 2px;\n    cursor: pointer;\n  }\n  .current {\n    background-color: rgba(0, 0, 0, .1);\n  }\n}\n.login-form {\n  margin-top: 29px;\n  label {\n    display: block;\n    margin-bottom: 3px;\n    font-size: 14px;\n    color: #fff;\n  }\n  .item-from { margin-bottom: 13px; }\n  .block {\n    display: block;\n    width: 100%;\n  }\n  .login-btn { margin-top: 19px; }\n}\n</style>"]}]}