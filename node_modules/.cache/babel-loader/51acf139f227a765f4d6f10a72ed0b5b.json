{"remainingRequest":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js!/Users/Jeff/Documents/workspace/vue-admin/src/utils/request.js","dependencies":[{"path":"/Users/Jeff/Documents/workspace/vue-admin/src/utils/request.js","mtime":1614229365943},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1613959810487}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIGdldFVzZXJuYW1lIH0gZnJvbSAnQC91dGlscy9hcHAnOwp2YXIgQkFTRVVSTCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSSA6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJOyAvL+WIm+W7umF4aW9zLOi1i+WAvOe7meWPmOmHj3NlcnZpY2UKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBCQVNFVVJMLAogIHRpbWVvdXQ6IDEwMDAKfSk7IC8vIOa3u+WKoOivt+axguaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIOWcqOWPkemAgeivt+axguS5i+WJjeWBmuS6m+S7gOS5iAogIGNvbmZpZy5oZWFkZXJzWydUb2tleSddID0gZ2V0VG9rZW4oKTsKICBjb25maWcuaGVhZGVyc1snVXNlcm5hbWUnXSA9IGdldFVzZXJuYW1lKCk7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8g5a+56K+35rGC6ZSZ6K+v5YGa5Lqb5LuA5LmICiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOa3u+WKoOWTjeW6lOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIOWvueWTjeW6lOaVsOaNruWBmueCueS7gOS5iAogIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsgLy/kuJrliqHpnIDmsYIKCiAgaWYgKGRhdGEucmVzQ29kZSAhPT0gMCkgewogICAgTWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGRhdGEpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["/Users/Jeff/Documents/workspace/vue-admin/src/utils/request.js"],"names":["axios","Message","getToken","getUsername","BASEURL","process","env","NODE_ENV","VUE_APP_API","service","create","baseURL","timeout","interceptors","request","use","config","headers","error","Promise","reject","response","data","resCode","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,QAAT,EAAkBC,WAAlB,QAAqC,aAArC;AAEA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCF,OAAO,CAACC,GAAR,CAAYE,WAApD,GAAkEH,OAAO,CAACC,GAAR,CAAYE,WAA9F,C,CACA;;AACA,IAAMC,OAAO,GAAGT,KAAK,CAACU,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEP,OADgB;AAEzBQ,EAAAA,OAAO,EAAE;AAFgB,CAAb,CAAhB,C,CAKA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAUC,MAAV,EAAkB;AAC/C;AACAA,EAAAA,MAAM,CAACC,OAAP,CAAe,OAAf,IAA0Bf,QAAQ,EAAlC;AACAc,EAAAA,MAAM,CAACC,OAAP,CAAe,UAAf,IAA6Bd,WAAW,EAAxC;AACA,SAAOa,MAAP;AACH,CALD,EAKG,UAAUE,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CARD,E,CAUA;;AACAT,OAAO,CAACI,YAAR,CAAqBQ,QAArB,CAA8BN,GAA9B,CAAkC,UAAUM,QAAV,EAAoB;AAClD;AACA,MAAIC,IAAI,GAAGD,QAAQ,CAACC,IAApB,CAFkD,CAIlD;;AACA,MAAGA,IAAI,CAACC,OAAL,KAAiB,CAApB,EAAsB;AAClBtB,IAAAA,OAAO,CAACiB,KAAR,CAAcI,IAAI,CAACE,OAAnB;AACA,WAAOL,OAAO,CAACC,MAAR,CAAeE,IAAf,CAAP;AACH,GAHD,MAGO;AACH,WAAOD,QAAP;AACH;AACJ,CAXD,EAWG,UAAUH,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAdD;AAgBA,eAAeT,OAAf","sourcesContent":["import axios from 'axios';\nimport { Message } from 'element-ui';\nimport { getToken,getUsername } from '@/utils/app';\n\nconst BASEURL = process.env.NODE_ENV === 'production' ? process.env.VUE_APP_API : process.env.VUE_APP_API;\n//创建axios,赋值给变量service\nconst service = axios.create({\n    baseURL: BASEURL,\n    timeout: 1000,\n});\n\n// 添加请求拦截器\nservice.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    config.headers['Tokey'] = getToken();\n    config.headers['Username'] = getUsername();\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n// 添加响应拦截器\nservice.interceptors.response.use(function (response) {\n    // 对响应数据做点什么\n    let data = response.data;\n\n    //业务需求\n    if(data.resCode !== 0){\n        Message.error(data.message);\n        return Promise.reject(data);\n    } else {\n        return response;\n    }\n}, function (error) {\n    // 对响应错误做点什么\n    return Promise.reject(error);\n});\n\nexport default service;\n"]}]}