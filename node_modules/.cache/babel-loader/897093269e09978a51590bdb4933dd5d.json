{"remainingRequest":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js!/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Jeff/Documents/workspace/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jeff/Documents/workspace/vue-admin/src/components/CityPicker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jeff/Documents/workspace/vue-admin/src/components/CityPicker/index.vue","mtime":1614522479673},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1613959810487},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1613959818680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9KZWZmL0RvY3VtZW50cy93b3Jrc3BhY2UvdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY2l0eVBpY2tlciB9IGZyb20gIkAvbWl4aW5zL2NpdHlQaWNrZXIiOwppbXBvcnQgeyB3YXRjaCwgb25CZWZvcmVNb3VudCwgcmVhY3RpdmUgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY2l0eVBpY2tlciIsCiAgcHJvcHM6IHsKICAgIGNpdHlQaWNrZXJMZXZlbDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgY2l0eVBpY2tlckRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHt9CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgLy8g5Yid5aeL5YyW55yB5biC5Yy66KGX6IGU5YqoCiAgICB2YXIgaW5pdCA9IHJlYWN0aXZlKHsKICAgICAgcHJvdmluY2U6IGZhbHNlLAogICAgICBjaXR5OiBmYWxzZSwKICAgICAgYXJlYTogZmFsc2UsCiAgICAgIHN0cmVldDogZmFsc2UKICAgIH0pOyAvLyDnur/ku7bmlrnms5UKCiAgICB2YXIgX2NpdHlQaWNrZXIgPSBjaXR5UGlja2VyKCksCiAgICAgICAgZ2V0UHJvdmluY2UgPSBfY2l0eVBpY2tlci5nZXRQcm92aW5jZSwKICAgICAgICBoYW5kbGVyUHJvdmluY2UgPSBfY2l0eVBpY2tlci5oYW5kbGVyUHJvdmluY2UsCiAgICAgICAgaGFuZGxlckNpdHkgPSBfY2l0eVBpY2tlci5oYW5kbGVyQ2l0eSwKICAgICAgICBoYW5kbGVyQXJlYSA9IF9jaXR5UGlja2VyLmhhbmRsZXJBcmVhLAogICAgICAgIGhhbmRsZXJTdHJlZXQgPSBfY2l0eVBpY2tlci5oYW5kbGVyU3RyZWV0LAogICAgICAgIGRhdGEgPSBfY2l0eVBpY2tlci5kYXRhLAogICAgICAgIHJlc3VsdERhdGEgPSBfY2l0eVBpY2tlci5yZXN1bHREYXRhOwogICAgLyoqCiAgICAgKiDliJ3lp4vljJYKICAgICAqLwoKCiAgICB2YXIgaW5pdENpZXlQaWNrZXIgPSBmdW5jdGlvbiBpbml0Q2lleVBpY2tlcigpIHsKICAgICAgdmFyIGluaXREYXRhID0gcHJvcHMuY2l0eVBpY2tlckxldmVsOwoKICAgICAgaWYgKGluaXREYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIGluaXQpIHsKICAgICAgICAgIGluaXRba2V5XSA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGluaXREYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGluaXRbaXRlbV0gPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogICAgLyoqCiAgICAgKiAKICAgICAqLwoKCiAgICB3YXRjaChbZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcmVzdWx0RGF0YS5wcm92aW5jZVZhbHVlOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcmVzdWx0RGF0YS5jaXR5VmFsdWU7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByZXN1bHREYXRhLmFyZWFWYWx1ZTsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJlc3VsdERhdGEuc3RyZWV0VmFsdWU7CiAgICB9XSwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCA0KSwKICAgICAgICAgIHByb3ZpbmNlID0gX3JlZjNbMF0sCiAgICAgICAgICBjaXR5ID0gX3JlZjNbMV0sCiAgICAgICAgICBhcmVhID0gX3JlZjNbMl0sCiAgICAgICAgICBzdHJlZXQgPSBfcmVmM1szXTsKCiAgICAgIGVtaXQoInVwZGF0ZTpjaXR5UGlja2VyRGF0YSIsIHJlc3VsdERhdGEpOwogICAgfSk7CiAgICBvbkJlZm9yZU1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgLy8g5Yid5aeL5YyWCiAgICAgIGluaXRDaWV5UGlja2VyKCk7IC8vIOiOt+WPluecgeS7vQoKICAgICAgZ2V0UHJvdmluY2UoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgaW5pdDogaW5pdCwKICAgICAgZGF0YTogZGF0YSwKICAgICAgaGFuZGxlclByb3ZpbmNlOiBoYW5kbGVyUHJvdmluY2UsCiAgICAgIGhhbmRsZXJDaXR5OiBoYW5kbGVyQ2l0eSwKICAgICAgaGFuZGxlckFyZWE6IGhhbmRsZXJBcmVhLAogICAgICBoYW5kbGVyU3RyZWV0OiBoYW5kbGVyU3RyZWV0CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,UAAA,QAAA,qBAAA;AACA,SAAA,KAAA,EAAA,aAAA,EAAA,QAAA,QAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,eAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA;AALA,GAFA;AAYA,EAAA,KAZA,iBAYA,KAZA,QAYA;AAAA,QAAA,IAAA,QAAA,IAAA;AACA;AACA,QAAA,IAAA,GAAA,QAAA,CAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA,KAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA,CAAA,CAFA,CAQA;;AARA,sBASA,UAAA,EATA;AAAA,QASA,WATA,eASA,WATA;AAAA,QASA,eATA,eASA,eATA;AAAA,QASA,WATA,eASA,WATA;AAAA,QASA,WATA,eASA,WATA;AAAA,QASA,aATA,eASA,aATA;AAAA,QASA,IATA,eASA,IATA;AAAA,QASA,UATA,eASA,UATA;AAUA;AACA;AACA;;;AACA,QAAA,cAAA,GAAA,SAAA,cAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,eAAA;;AACA,UAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,GAAA,CAAA,GAAA,IAAA;AACA;AACA,OAJA,MAIA;AACA,QAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,GAAA,IAAA;AACA,SAFA;AAGA;AACA,KAXA;AAYA;AACA;AACA;;;AACA,IAAA,KAAA,CAAA,CACA;AAAA,aAAA,UAAA,CAAA,aAAA;AAAA,KADA,EAEA;AAAA,aAAA,UAAA,CAAA,SAAA;AAAA,KAFA,EAGA;AAAA,aAAA,UAAA,CAAA,SAAA;AAAA,KAHA,EAIA;AAAA,aAAA,UAAA,CAAA,WAAA;AAAA,KAJA,CAAA,EAKA,iBAAA;AAAA;AAAA,UAAA,QAAA;AAAA,UAAA,IAAA;AAAA,UAAA,IAAA;AAAA,UAAA,MAAA;;AACA,MAAA,IAAA,CAAA,uBAAA,EAAA,UAAA,CAAA;AACA,KAPA,CAAA;AAWA,IAAA,aAAA,CAAA,YAAA;AACA;AACA,MAAA,cAAA,GAFA,CAGA;;AACA,MAAA,WAAA;AACA,KALA,CAAA;AAOA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAGA,MAAA,eAAA,EAAA,eAHA;AAIA,MAAA,WAAA,EAAA,WAJA;AAKA,MAAA,WAAA,EAAA,WALA;AAMA,MAAA,aAAA,EAAA;AANA,KAAA;AAQA;AAlEA,CAAA","sourcesContent":["<template>\n    <div class=\"overflow-h\">\n        <el-row :gutter=\"10\">\n            <el-col :span=\"6\" v-if=\"init.province\">\n                <el-select v-model=\"data.provinceValue\" @change=\"handlerProvince\">\n                    <el-option v-for=\"item in data.provinceData\" :key=\"item.PROVINCE_CODE\" :value=\"item.PROVINCE_CODE\" :label=\"item.PROVINCE_NAME\"></el-option>\n                </el-select>\n            </el-col>\n            <el-col :span=\"6\" v-if=\"init.city\">\n                <el-select v-model=\"data.cityValue\" @change=\"handlerCity\">\n                    <el-option v-for=\"item in data.cityData\" :key=\"item.CITY_CODE\" :value=\"item.CITY_CODE\" :label=\"item.CITY_NAME\"></el-option>\n                </el-select>\n            </el-col>\n            <el-col :span=\"6\" v-if=\"init.area\">\n                <el-select v-model=\"data.areaValue\" @change=\"handlerArea\">\n                    <el-option v-for=\"item in data.areaData\" :key=\"item.AREA_CODE\" :value=\"item.AREA_CODE\" :label=\"item.AREA_NAME\"></el-option>\n                </el-select>\n            </el-col>\n            <el-col :span=\"6\" v-if=\"init.street\">\n                <el-select v-model=\"data.streetValue\" @change=\"handlerStreet\">\n                    <el-option v-for=\"item in data.streetData\" :key=\"item.STREET_CODE\" :value=\"item.STREET_CODE\" :label=\"item.STREET_NAME\"></el-option>\n                </el-select>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n<script>\nimport { cityPicker } from \"@/mixins/cityPicker\"\nimport { watch, onBeforeMount, reactive } from '@vue/composition-api'\nexport default {\n    name: \"cityPicker\",\n    props: {\n        cityPickerLevel: {\n            type: Array,\n            default: () => []\n        },\n        cityPickerData: {\n            type: Object,\n            default: () => {}\n        }\n    },\n    setup(props, { emit }){\n        // 初始化省市区街联动\n        const init = reactive({\n            province: false,\n            city: false,\n            area: false,\n            street: false,\n        })\n        // 线件方法\n        const { getProvince,  handlerProvince, handlerCity, handlerArea, handlerStreet, data, resultData } = cityPicker();\n        /**\n         * 初始化\n         */\n        const initCieyPicker = () => {\n            let initData = props.cityPickerLevel\n            if(initData.length == 0) {\n                for(let key in init) {\n                    init[key] = true\n                }\n            }else{\n                initData.forEach(item => {\n                    init[item] = true\n                });\n            }\n        }\n        /**\n         * \n         */\n        watch([\n            () => resultData.provinceValue,\n            () => resultData.cityValue,\n            () => resultData.areaValue,\n            () => resultData.streetValue,\n        ], ([province, city, area, street]) => {\n            emit(\"update:cityPickerData\", resultData)\n        })\n\n\n\n        onBeforeMount(() => {\n            // 初始化\n            initCieyPicker()\n            // 获取省份\n            getProvince()\n        })\n\n        return {\n            init,\n            data,\n            handlerProvince,\n            handlerCity,\n            handlerArea,\n            handlerStreet\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n\n</style>"],"sourceRoot":"src/components/CityPicker"}]}