{"remainingRequest":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js!/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Jeff/Documents/workspace/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Jeff/Documents/workspace/vue-admin/src/views/Login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Jeff/Documents/workspace/vue-admin/src/views/Login/index.vue","mtime":1614758485412},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1613959810487},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1613959811244},{"path":"/Users/Jeff/Documents/workspace/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1613959818680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNoYTEgZnJvbSAnanMtc2hhMSc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHsgR2V0U21zLCBSZWdpc3RlciwgTG9naW4gfSBmcm9tICJAL2FwaS9sb2dpbiI7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIGlzUmVmLCB0b1JlZnMsIG9uTW91bnRlZCwgd2F0Y2gsIG9uVW5tb3VudGVkIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgeyBzdHJpcHNjcmlwdCwgdmFsaWRhdGVQYXNzLCB2YWxpZGF0ZUVtYWlsLCB2YWxpZGF0ZVZDb2RlIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG9naW4nLAogIC8vIHNldHVwKHByb3BzLCBjb250ZXh0KXsKCiAgLyoqCiAgICphdHRyczogKC4uLikgPT0gdGhpcy4kYXR0cnMKICAgIGVtaXQ6ICguLi4pID09IHRoaXMuJGVtaXQKICAgIGxpc3RlbmVyczogKC4uLikgPT0gdGhpcy4kbGlzdGVuZXJzCiAgICBwYXJlbnQ6ICguLi4pID09IHRoaXMuJHBhcmVudAogICAgcmVmczogKC4uLikgPT0gdGhpcy4kcmVmcwogICAgcm9vdDogKC4uLikgPT0gdGhpcwogICAgKi8KICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciByZWZzID0gX3JlZi5yZWZzLAogICAgICAgIHJvb3QgPSBfcmVmLnJvb3Q7CgogICAgLy8g6aqM6K+B55So5oi35ZCNCiAgICB2YXIgdmFsaWRhdGVVc2VybmFtZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVXNlcm5hbWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeeUqOaIt+WQjScpKTsKICAgICAgfSBlbHNlIGlmICh2YWxpZGF0ZUVtYWlsKHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign55So5oi35ZCN5qC85byP5pyJ6K+vJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7IC8vdHJ1ZQogICAgICB9CiAgICB9OyAvLyDpqozor4Hlr4bnoIEKCgogICAgdmFyIHZhbGlkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3N3b3JkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAvLyDov4fmu6TlkI7nmoTmlbDmja4KICAgICAgcnVsZUZvcm0ucGFzc3dvcmQgPSBzdHJpcHNjcmlwdCh2YWx1ZSk7CiAgICAgIHZhbHVlID0gcnVsZUZvcm0ucGFzc3dvcmQ7CgogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlr4bnoIEiKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsaWRhdGVQYXNzKHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5Li6NuiHszIw5L2N5pWw5a2XK+Wtl+avjSIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OyAvLyDpqozor4Hph43lpI3lr4bnoIEKCgogICAgdmFyIHZhbGlkYXRlUGFzc3dvcmRzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZHMocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIC8vIOWmguaenOaooeWdl+WAvOS4umxvZ2luLCDnm7TmjqXpgJrov4cKICAgICAgaWYgKG1vZGVsLnZhbHVlID09PSAnbG9naW4nKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSAvLyDov4fmu6TlkI7nmoTmlbDmja4KCgogICAgICBydWxlRm9ybS5wYXNzd29yZHMgPSBzdHJpcHNjcmlwdCh2YWx1ZSk7CiAgICAgIHZhbHVlID0gcnVsZUZvcm0ucGFzc3dvcmRzOwoKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35YaN5qyh6L6T5YWl5a+G56CBJykpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlICE9IHJ1bGVGb3JtLnBhc3N3b3JkKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfph43lpI3lr4bnoIHkuI3mraPnoa4nKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsgLy8g6aqM6K+B6aqM6K+B56CBCgoKICAgIHZhciB2YWxpZGF0ZUNvZGUgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvZGUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXpqozor4HnoIEnKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsaWRhdGVWQ29kZSh2YWx1ZSkpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfpqozor4HnoIHmoLzlvI/mnInor68nKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgICAqIOWjsOaYjuaVsOaNrgogICAgICovCiAgICAvLyDov5nph4zpnaLmlL7nva5kYXRh5pWw5o2u44CB55Sf5ZG95ZGo5pyf44CB6Ieq5a6a5LmJ55qE5Ye95pWwCgoKICAgIHZhciBtZW51VGFiID0gcmVhY3RpdmUoW3sKICAgICAgdHh0OiAn55m75b2VJywKICAgICAgY3VycmVudDogdHJ1ZSwKICAgICAgdHlwZTogJ2xvZ2luJwogICAgfSwgewogICAgICB0eHQ6ICfms6jlhownLAogICAgICBjdXJyZW50OiBmYWxzZSwKICAgICAgdHlwZTogJ3JlZ2lzdGVyJwogICAgfV0pOyAvLyDmqKHlnZflgLwgCgogICAgdmFyIG1vZGVsID0gcmVmKCdsb2dpbicpOyAvLyDnmbvlvZXmjInpkq7npoHnlKjnirbmgIEKCiAgICB2YXIgbG9naW5CdXR0b25TdGF0dXMgPSByZWYodHJ1ZSk7IC8vIOmqjOivgeeggeaMiemSrueKtuaAgQoKICAgIHZhciBjb2RlQnV0dG9uU3RhdHVzID0gcmVhY3RpdmUoewogICAgICBzdGF0dXM6IGZhbHNlLAogICAgICB0ZXh0OiAn6I635Y+W6aqM6K+B56CBJwogICAgfSk7IC8vIOWAkuiuoeaXtgoKICAgIHZhciB0aW1lciA9IHJlZihudWxsKTsgLy8g6KGo5Y2V57uR5a6a5pWw5o2uCgogICAgdmFyIHJ1bGVGb3JtID0gcmVhY3RpdmUoewogICAgICB1c2VybmFtZTogJzI0MTI1MjYyNzFAcXEuY29tJywKICAgICAgcGFzc3dvcmQ6ICd3bzEyMzQ1NicsCiAgICAgIHBhc3N3b3JkczogJ3dvMTIzNDU2JywKICAgICAgY29kZTogJycKICAgIH0pOyAvLyDooajljZXnmoTpqozor4EKCiAgICB2YXIgcnVsZXMgPSByZWFjdGl2ZSh7CiAgICAgIHVzZXJuYW1lOiBbewogICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZSwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkOiBbewogICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzd29yZCwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkczogW3sKICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmRzLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgY29kZTogW3sKICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlQ29kZSwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0KICAgIH0pOwogICAgLyoqCiAgICAgKiAx44CB5LiN5bu66K6u5Zyo5LiA5Liq5pa55rOV6YeM6Z2i5YGa5aSa5Lu25LiN5ZCM55qE5LqL5Lu277yI5bC95Y+v6IO95Y+q5YGa6Ieq5bex5pys6Lqr55qE5LqL77yM5LiN6KaB5YGa5YW25LuW5Lq655qE5LqL5oOF77yJCiAgICAgKiAy44CB5bC96YeP5oqK55u45ZCM55qE5LqL5oOF5bCB6KOF5LiA5Liq5pa55rOV6YeM6Z2i77yM6YCa6L+H6LCD55So5Ye95pWw6L+b6KGM5omn6KGMCiAgICAgKi8KCiAgICAvKioKICAgICAqIOWjsOaYjuWHveaVsAogICAgICovCiAgICAvLyDliIfmjaLmqKHlnZcKCiAgICB2YXIgdG9nZ2xlTWVudSA9IGZ1bmN0aW9uIHRvZ2dsZU1lbnUoZGF0YSkgewogICAgICBtZW51VGFiLmZvckVhY2goZnVuY3Rpb24gKGVsZW0sIGluZGV4KSB7CiAgICAgICAgZWxlbS5jdXJyZW50ID0gZmFsc2U7CiAgICAgIH0pOyAvLyDpq5jlhYkKCiAgICAgIGRhdGEuY3VycmVudCA9IHRydWU7IC8vIOS/ruaUueaooeWdl+WAvAoKICAgICAgbW9kZWwudmFsdWUgPSBkYXRhLnR5cGU7CiAgICAgIHJlc2V0RnJvbURhdGEoKTsKICAgICAgY2xlYXJDb3VudERvd24oKTsKICAgIH07IC8vIOa4hemZpOihqOWNleaVsOaNrgoKCiAgICB2YXIgcmVzZXRGcm9tRGF0YSA9IGZ1bmN0aW9uIHJlc2V0RnJvbURhdGEoKSB7CiAgICAgIC8vIOmHjee9ruihqOWNlQogICAgICAvLyB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOyAvLzIuMAogICAgICByZWZzLmxvZ2luRm9ybS5yZXNldEZpZWxkcygpOyAvLyAzLjAKICAgIH07IC8vIOabtOaWsOaMiemSrueKtuaAgQoKCiAgICB2YXIgdXBkYXRhQnV0dG9uU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRhQnV0dG9uU3RhdHVzKHBhcmFtcykgewogICAgICBjb2RlQnV0dG9uU3RhdHVzLnN0YXR1cyA9IHBhcmFtcy5zdGF0dXM7CiAgICAgIGNvZGVCdXR0b25TdGF0dXMudGV4dCA9IHBhcmFtcy50ZXh0OwogICAgfTsKCiAgICB2YXIgZ2V0U21zID0gZnVuY3Rpb24gZ2V0U21zKCkgewogICAgICAvLyDov5vooYzmj5DnpLoKICAgICAgaWYgKHJ1bGVGb3JtLnVzZXJuYW1lID09ICcnKSB7CiAgICAgICAgcm9vdC4kbWVzc2FnZS5lcnJvcign6YKu566x5LiN6IO95Li656m677yB77yBJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodmFsaWRhdGVFbWFpbChydWxlRm9ybS51c2VybmFtZSkpIHsKICAgICAgICByb290LiRtZXNzYWdlLmVycm9yKCfpgq7nrrHmoLzlvI/mnInor6/vvIzor7fph43mlrDovpPlhaXvvIHvvIEnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8g6I635Y+W6aqM6K+B56CBCgoKICAgICAgdmFyIHJlcXVlc3REYXRhID0gewogICAgICAgIHVzZXJuYW1lOiBydWxlRm9ybS51c2VybmFtZSwKICAgICAgICBtb2R1bGU6IG1vZGVsLnZhbHVlCiAgICAgIH07IC8vIOS/ruaUueiOt+WPlumqjOivgeaMiemSrueKtuaAgQoKICAgICAgdXBkYXRhQnV0dG9uU3RhdHVzKHsKICAgICAgICBzdGF0dXM6IHRydWUsCiAgICAgICAgdGV4dDogJ+WPkemAgeS4rScKICAgICAgfSk7IC8vIOW7tuaXtuWkmumVv+aXtumXtAoKICAgICAgR2V0U21zKHJlcXVlc3REYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICByb290LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZQogICAgICAgIH0pOyAvLyDlkK/nlKjnmbvlvZXmiJbms6jlhozmjInpkq4KCiAgICAgICAgbG9naW5CdXR0b25TdGF0dXMudmFsdWUgPSBmYWxzZTsgLy8g6LCD5a6a5pe25Zmo77yM5YCS6K6h5pe2CgogICAgICAgIGNvdW50RG93big2MCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIOWQr+eUqOeZu+W9leaIluazqOWGjOaMiemSrgogICAgICAgIGxvZ2luQnV0dG9uU3RhdHVzLnZhbHVlID0gZmFsc2U7CiAgICAgICAgdXBkYXRhQnV0dG9uU3RhdHVzKHsKICAgICAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgICAgICB0ZXh0OiAn5YaN5qyh6I635Y+WJwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9OwogICAgLyoqCiAgICAgKiDmj5DkuqTooajljZUKICAgICAqLwoKCiAgICB2YXIgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgLy8g6KGo5Y2V6aqM6K+B6YCa6L+HCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvLyDkuInlhYPov5DnrpcKICAgICAgICAgIG1vZGVsLnZhbHVlID09PSAnbG9naW4nID8gbG9naW4oKSA6IHJlZ2lzdGVyKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgLyoqCiAgICAgKiDnmbvlvZUKICAgICAqLwoKCiAgICB2YXIgbG9naW4gPSBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIHJlcHVlc3REYXRhID0gewogICAgICAgIHVzZXJuYW1lOiBydWxlRm9ybS51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogc2hhMShydWxlRm9ybS5wYXNzd29yZCksCiAgICAgICAgY29kZTogcnVsZUZvcm0uY29kZQogICAgICB9OwogICAgICByb290LiRzdG9yZS5kaXNwYXRjaCgnYXBwL2xvZ2luJywgcmVwdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8g6aG16Z2i6Lez6L2sCiAgICAgICAgcm9vdC4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0NvbnNvbGUnCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge30pOwogICAgfTsKICAgIC8qKgogICAgICog5rOo5YaMCiAgICAgKi8KCgogICAgdmFyIHJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgIHZhciByZXF1ZXN0RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogcnVsZUZvcm0udXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHNoYTEocnVsZUZvcm0ucGFzc3dvcmQpLAogICAgICAgIGNvZGU6IHJ1bGVGb3JtLmNvZGUsCiAgICAgICAgbW9kdWxlOiAncmVnaXN0ZXInCiAgICAgIH07IC8vIOazqOWGjOaOpeWPowoKICAgICAgUmVnaXN0ZXIocmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHJvb3QuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7IC8vIOaooeaLn+azqOWGjOaIkOWKnwoKICAgICAgICB0b2dnbGVNZW51KG1lbnVUYWJbMF0pOwogICAgICAgIGNsZWFyQ291bnREb3duKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgey8vIOWksei0peaXtuaJp+ihjOeahOS7o+eggQogICAgICB9KTsKICAgIH07CiAgICAvKioKICAgICAqIOWAkuiuoeaXtgogICAgICovCgoKICAgIHZhciBjb3VudERvd24gPSBmdW5jdGlvbiBjb3VudERvd24obnVtYmVyKSB7CiAgICAgIC8vIDYwIOWSjCAw5LiN6KeB5LqG77yM5pWF5oSP55WZQlVHCiAgICAgIC8vIHNldFRpbWVvdXQ6Y2xlYXJUaW1lb3V0KOWPmOmHjykgIOWPquaJp+ihjOS4gOasoQogICAgICAvLyBzZXRJbnRlcnZhbDpjbGVhckludGVydmFsKOWPmOmHjykpICDkuI3mlq3nmoTmiafooYzvvIzpnIDopoHmnaHku7bmiY3kvJrlgZzmraIKICAgICAgLy8g5Yik5pat5a6a5pe25Zmo5piv5ZCm5a2Y5Zyo77yM5a2Y5Zyo5YiZ5riF6ZmkCiAgICAgIGlmICh0aW1lci52YWx1ZSkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIudmFsdWUpOwogICAgICB9CgogICAgICB2YXIgdGltZSA9IG51bWJlcjsKICAgICAgdGltZXIudmFsdWUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGltZS0tOwoKICAgICAgICBpZiAodGltZSA9PT0gMCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lci52YWx1ZSk7CiAgICAgICAgICB1cGRhdGFCdXR0b25TdGF0dXMoewogICAgICAgICAgICBzdGF0dXM6IGZhbHNlLAogICAgICAgICAgICB0ZXh0OiAn5YaN5qyh6I635Y+WJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvZGVCdXR0b25TdGF0dXMudGV4dCA9ICJcdTUwMTJcdThCQTFcdTY1RjYiLmNvbmNhdCh0aW1lLCAiXHU3OUQyIik7IC8vIGVzNSAn5YCS6K6h5pe2JyArIHRpbWUgKyAn56eSJwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9OwogICAgLyoqCiAgICAgKiDmuIXpmaTlgJLorqHml7YKICAgICAqLwoKCiAgICB2YXIgY2xlYXJDb3VudERvd24gPSBmdW5jdGlvbiBjbGVhckNvdW50RG93bigpIHsKICAgICAgLy8g6L+Y5Y6f6aqM6K+B56CB5oyJ6ZKu6buY6K6k54q25oCBCiAgICAgIHVwZGF0YUJ1dHRvblN0YXR1cyh7CiAgICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgICB0ZXh0OiAn6I635Y+W6aqM6K+B56CBJwogICAgICB9KTsgLy8g5riF6Zmk5YCS6K6h5pe2CgogICAgICBjbGVhckludGVydmFsKHRpbWVyLnZhbHVlKTsKICAgIH07CiAgICAvKioKICAgICAqIOeUn+WRveWRqOacnwogICAgICovCiAgICAvLyDmjILovb3lrozmiJDlkI4KCgogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHt9KTsKICAgIC8qKgogICAgICog6ZSA5q+B6aG16Z2i5pe2CiAgICAgKi8KCiAgICBvblVubW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIudmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBtZW51VGFiOiBtZW51VGFiLAogICAgICBtb2RlbDogbW9kZWwsCiAgICAgIGxvZ2luQnV0dG9uU3RhdHVzOiBsb2dpbkJ1dHRvblN0YXR1cywKICAgICAgY29kZUJ1dHRvblN0YXR1czogY29kZUJ1dHRvblN0YXR1cywKICAgICAgcnVsZUZvcm06IHJ1bGVGb3JtLAogICAgICBydWxlczogcnVsZXMsCiAgICAgIHRpbWVyOiB0aW1lciwKICAgICAgdG9nZ2xlTWVudTogdG9nZ2xlTWVudSwKICAgICAgc3VibWl0Rm9ybTogc3VibWl0Rm9ybSwKICAgICAgZ2V0U21zOiBnZXRTbXMKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-wrap\">\n      <ul class=\"menu-tab\">\n        <li v-for=\"item in menuTab\" :key=\"item.id\" :class=\"{'current': item.current}\" @click=\"toggleMenu(item)\">\n          {{ item.txt }}\n        </li>\n      </ul>\n      <svg-icon icon-name=\"menu\" class-name=\"menu\"></svg-icon>\n      <!--表单 start-->\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"loginForm\" class=\"login-form\" size=\"medium\">\n        <el-form-item prop=\"username\" class=\"item-from\">\n          <label for=\"username\">邮箱</label>\n          <el-input id=\"username\" type=\"text\" v-model=\"ruleForm.username\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"password\" class=\"item-from\">\n          <label for=\"password\">密码</label>\n          <el-input id=\"password\" type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" minlength=\"6\" maxlength=\"20\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"passwords\" class=\"item-from\" v-show=\"model === 'register'\">\n          <label>重复密码</label>\n          <el-input type=\"password\" v-model=\"ruleForm.passwords\" autocomplete=\"off\" minlength=\"6\" maxlength=\"20\"></el-input>\n        </el-form-item>\n\n        <el-form-item prop=\"code\" class=\"item-from\">\n          <label>验证码</label>\n          <el-row :gutter=\"10\">\n            <el-col :span=\"15\">\n              <el-input v-model=\"ruleForm.code\" minlength=\"6\" maxlength=\"6\"></el-input>\n            </el-col>\n            <el-col :span=\"9\">\n              <el-button type=\"success\" class=\"block\" @click=\"getSms()\" :disabled=\"codeButtonStatus.status\">{{ codeButtonStatus.text }}</el-button>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"danger\" @click=\"submitForm('loginForm')\" class=\"login-btn block\" :disabled=\"loginButtonStatus\">{{ model === 'login' ? \"登录\" : \"注册\" }}</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script>\nimport sha1 from 'js-sha1';\nimport { Message } from 'element-ui';\nimport { GetSms, Register, Login } from \"@/api/login\";\nimport { reactive, ref, isRef, toRefs, onMounted, watch, onUnmounted } from '@vue/composition-api';\nimport { stripscript, validatePass, validateEmail, validateVCode } from '@/utils/validate';\nexport default {\n    name: 'login',\n    // setup(props, context){\n    /**\n     *attrs: (...) == this.$attrs\n      emit: (...) == this.$emit\n      listeners: (...) == this.$listeners\n      parent: (...) == this.$parent\n      refs: (...) == this.$refs\n      root: (...) == this\n      */\n    setup(props, { refs, root }){\n      // 验证用户名\n      let validateUsername = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入用户名'));\n        } else if(validateEmail(value)){\n          callback(new Error('用户名格式有误'));\n        } else {\n          callback(); //true\n        }\n      };\n      // 验证密码\n      let validatePassword = (rule, value, callback) => {\n        // 过滤后的数据\n        ruleForm.password = stripscript(value);\n        value = ruleForm.password;\n        if (value === '') {\n          callback(new Error(\"请输入密码\"));\n        } else if (validatePass(value)) {\n          callback(new Error(\"密码为6至20位数字+字母\"));\n        } else {\n          callback();\n        }\n      };\n      // 验证重复密码\n      let validatePasswords = (rule, value, callback) => {\n        // 如果模块值为login, 直接通过\n        if(model.value === 'login') { callback(); }\n        // 过滤后的数据\n        ruleForm.passwords = stripscript(value);\n        value = ruleForm.passwords;\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value != ruleForm.password) {\n          callback(new Error('重复密码不正确'));\n        } else {\n          callback();\n        }\n      };\n      // 验证验证码\n      let validateCode = (rule, value, callback) => {\n        if (value === '') {\n          return callback(new Error('请输入验证码'));\n        }else if(validateVCode(value)){\n          return callback(new Error('验证码格式有误'));\n        }else{\n          callback();\n        }\n      };\n      /*********************************************************************************************************************\n       * 声明数据\n       */\n      // 这里面放置data数据、生命周期、自定义的函数\n      const menuTab = reactive([\n        { txt: '登录', current: true, type: 'login' },\n        { txt: '注册', current: false, type: 'register' }\n      ]);\n      // 模块值 \n      const model = ref('login');\n      // 登录按钮禁用状态\n      const loginButtonStatus = ref(true);\n      // 验证码按钮状态\n      const codeButtonStatus = reactive(\n        {\n          status: false,\n          text: '获取验证码'\n        }\n      );\n      // 倒计时\n      const timer = ref(null);\n      // 表单绑定数据\n      const ruleForm = reactive({\n        username: '2412526271@qq.com',\n        password: 'wo123456',\n        passwords: 'wo123456',\n        code: ''\n      });\n      // 表单的验证\n      const rules = reactive({\n        username: [\n          { validator: validateUsername, trigger: 'blur' }\n        ],\n        password: [\n          { validator: validatePassword, trigger: 'blur' }\n        ],\n        passwords: [\n          { validator: validatePasswords, trigger: 'blur' }\n        ],\n        code: [\n          { validator: validateCode, trigger: 'blur' }\n        ]\n      });\n      /**\n       * 1、不建议在一个方法里面做多件不同的事件（尽可能只做自己本身的事，不要做其他人的事情）\n       * 2、尽量把相同的事情封装一个方法里面，通过调用函数进行执行\n       */\n      /**\n       * 声明函数\n       */\n      // 切换模块\n      const toggleMenu = (data => {\n        menuTab.forEach((elem, index) => {\n          elem.current = false;\n        });\n        // 高光\n        data.current = true;\n        // 修改模块值\n        model.value = data.type;\n        resetFromData()\n        clearCountDown()\n      });\n      // 清除表单数据\n      const resetFromData = (() => {\n        // 重置表单\n        // this.$refs[formName].resetFields(); //2.0\n        refs.loginForm.resetFields();  // 3.0\n      })\n      // 更新按钮状态\n      const updataButtonStatus = ((params) => {\n        codeButtonStatus.status = params.status;\n        codeButtonStatus.text = params.text;\n      })\n      const getSms = (() => {\n        // 进行提示\n        if(ruleForm.username == '' ) {\n          root.$message.error('邮箱不能为空！！');\n          return false;\n        }\n        if(validateEmail(ruleForm.username)) {\n          root.$message.error('邮箱格式有误，请重新输入！！');\n          return false;\n        }\n        // 获取验证码\n        let requestData = {\n          username: ruleForm.username, \n          module: model.value\n        }\n        // 修改获取验证按钮状态\n        updataButtonStatus({\n          status: true,\n          text: '发送中'\n        })\n        // 延时多长时间\n        GetSms(requestData).then(response => {\n          let data = response.data;\n          root.$message({\n            message: data.message,\n            type: 'success',\n            dangerouslyUseHTMLString: true\n          });\n          // 启用登录或注册按钮\n          loginButtonStatus.value = false;\n          // 调定时器，倒计时\n          countDown(60);\n        }).catch(error => {\n          // 启用登录或注册按钮\n          loginButtonStatus.value = false;\n          updataButtonStatus({\n            status: false,\n            text: '再次获取'\n          })\n          console.log(error);\n        })\n      })\n      /**\n       * 提交表单\n       */\n      const submitForm = (formName => {\n        refs[formName].validate((valid) => {\n          // 表单验证通过\n          if (valid) {\n            // 三元运算\n            model.value === 'login' ? login() : register()\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        })\n      }) \n      /**\n       * 登录\n       */\n      const login = (() => {\n        let repuestData = {\n          username: ruleForm.username,\n          password: sha1(ruleForm.password),\n          code: ruleForm.code\n        }\n        root.$store.dispatch('app/login', repuestData).then(response => {\n          // 页面跳转\n          root.$router.push({\n            name: 'Console'\n          })\n        }).catch(error => {});\n      })\n      /**\n       * 注册\n       */\n      const register = (() => {\n        let requestData = {\n          username: ruleForm.username,\n          password: sha1(ruleForm.password),\n          code: ruleForm.code,\n          module: 'register'\n        }\n        // 注册接口\n        Register(requestData).then(response => {\n          let data = response.data\n          root.$message({\n            message: data.message,\n            type: 'success'\n          })\n          // 模拟注册成功\n          toggleMenu(menuTab[0])\n          clearCountDown()\n        }).catch(error => {\n          // 失败时执行的代码\n        })\n      })\n      /**\n       * 倒计时\n       */\n      const countDown = ((number) => {\n        // 60 和 0不见了，故意留BUG\n        // setTimeout:clearTimeout(变量)  只执行一次\n        // setInterval:clearInterval(变量))  不断的执行，需要条件才会停止\n        // 判断定时器是否存在，存在则清除\n        if(timer.value) { clearInterval(timer.value); }\n        let time = number\n        timer.value = setInterval(() => {\n          time--;\n          if(time === 0) {\n            clearInterval(timer.value)\n            updataButtonStatus({\n              status: false,\n              text: '再次获取'\n            })\n          }else{\n            codeButtonStatus.text = `倒计时${time}秒`   // es5 '倒计时' + time + '秒'\n          }\n        }, 1000)\n      })\n      /**\n       * 清除倒计时\n       */\n      const clearCountDown = (() => {\n        // 还原验证码按钮默认状态\n        updataButtonStatus({\n          status: false,\n          text: '获取验证码'\n        })\n        // 清除倒计时\n        clearInterval(timer.value)\n      })\n      /**\n       * 生命周期\n       */\n      // 挂载完成后\n      onMounted(() => {\n        \n      })\n      /**\n       * 销毁页面时\n       */\n      onUnmounted(() => {\n        clearInterval(timer.value);\n      })\n      return {\n        menuTab,\n        model,\n        loginButtonStatus,\n        codeButtonStatus,\n        ruleForm,\n        rules,\n        timer,\n        toggleMenu,\n        submitForm,\n        getSms\n      }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n#login {\n  height: 100vh;\n  background-color: #344a5f;\n}\n.login-wrap {\n  width: 330px;\n  margin: auto;\n}\n.menu-tab {\n  text-align: center;\n  li {\n    display: inline-block;\n    width: 88px;\n    line-height: 36px;\n    font-size: 14px;\n    color: #fff;\n    border-radius: 2px;\n    cursor: pointer;\n  }\n  .current {\n    background-color: rgba(0, 0, 0, .1);\n  }\n}\n.login-form {\n  margin-top: 29px;\n  label {\n    display: block;\n    margin-bottom: 3px;\n    font-size: 14px;\n    color: #fff;\n  }\n  .item-from { margin-bottom: 13px; }\n  .block {\n    display: block;\n    width: 100%;\n  }\n  .login-btn { margin-top: 19px; }\n}\n</style>"],"sourceRoot":"src/views/Login"}]}