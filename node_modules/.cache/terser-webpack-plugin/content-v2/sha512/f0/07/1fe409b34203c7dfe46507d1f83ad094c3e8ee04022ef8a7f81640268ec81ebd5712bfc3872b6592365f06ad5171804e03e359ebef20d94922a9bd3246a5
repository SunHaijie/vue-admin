{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-cae83992\"],{\"03ab\":function(e,t,r){\"use strict\";r(\"5ce4\")},\"5ce4\":function(e,t,r){},d9c9:function(e,t,r){\"use strict\";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{attrs:{id:\"login\"}},[r(\"div\",{staticClass:\"login-wrap\"},[r(\"ul\",{staticClass:\"menu-tab\"},e._l(e.menuTab,(function(t){return r(\"li\",{key:t.id,class:{current:t.current},on:{click:function(r){return e.toggleMenu(t)}}},[e._v(\" \"+e._s(t.txt)+\" \")])})),0),r(\"svg-icon\",{attrs:{\"icon-name\":\"menu\",\"class-name\":\"menu\"}}),r(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.ruleForm,\"status-icon\":\"\",rules:e.rules,size:\"medium\"}},[r(\"el-form-item\",{staticClass:\"item-from\",attrs:{prop:\"username\"}},[r(\"label\",{attrs:{for:\"username\"}},[e._v(\"邮箱\")]),r(\"el-input\",{attrs:{id:\"username\",type:\"text\",autocomplete:\"off\"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,\"username\",t)},expression:\"ruleForm.username\"}})],1),r(\"el-form-item\",{staticClass:\"item-from\",attrs:{prop:\"password\"}},[r(\"label\",{attrs:{for:\"password\"}},[e._v(\"密码\")]),r(\"el-input\",{attrs:{id:\"password\",type:\"password\",autocomplete:\"off\",minlength:\"6\",maxlength:\"20\"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,\"password\",t)},expression:\"ruleForm.password\"}})],1),r(\"el-form-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"register\"===e.model,expression:\"model === 'register'\"}],staticClass:\"item-from\",attrs:{prop:\"passwords\"}},[r(\"label\",[e._v(\"重复密码\")]),r(\"el-input\",{attrs:{type:\"password\",autocomplete:\"off\",minlength:\"6\",maxlength:\"20\"},model:{value:e.ruleForm.passwords,callback:function(t){e.$set(e.ruleForm,\"passwords\",t)},expression:\"ruleForm.passwords\"}})],1),r(\"el-form-item\",{staticClass:\"item-from\",attrs:{prop:\"code\"}},[r(\"label\",[e._v(\"验证码\")]),r(\"el-row\",{attrs:{gutter:10}},[r(\"el-col\",{attrs:{span:15}},[r(\"el-input\",{attrs:{minlength:\"6\",maxlength:\"6\"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,\"code\",t)},expression:\"ruleForm.code\"}})],1),r(\"el-col\",{attrs:{span:9}},[r(\"el-button\",{staticClass:\"block\",attrs:{type:\"success\",disabled:e.codeButtonStatus.status},on:{click:function(t){return e.getSms()}}},[e._v(e._s(e.codeButtonStatus.text))])],1)],1)],1),r(\"el-form-item\",[r(\"el-button\",{staticClass:\"login-btn block\",attrs:{type:\"danger\",disabled:e.loginButtonStatus},on:{click:function(t){return e.submitForm(\"loginForm\")}}},[e._v(e._s(\"login\"===e.model?\"登录\":\"注册\"))])],1)],1)],1)])},o=[],a=(r(\"4160\"),r(\"159b\"),r(\"6199\")),n=r.n(a),u=(r(\"5c96\"),r(\"7ded\")),l=r(\"a6f4\"),c=r(\"61f7\"),i={name:\"login\",setup:function(e,t){var r=t.refs,s=t.root,o=function(e,t,r){\"\"===t?r(new Error(\"请输入用户名\")):Object(c[\"b\"])(t)?r(new Error(\"用户名格式有误\")):r()},a=function(e,t,r){v.password=Object(c[\"a\"])(t),t=v.password,\"\"===t?r(new Error(\"请输入密码\")):Object(c[\"c\"])(t)?r(new Error(\"密码为6至20位数字+字母\")):r()},i=function(e,t,r){\"login\"===p.value&&r(),v.passwords=Object(c[\"a\"])(t),t=v.passwords,\"\"===t?r(new Error(\"请再次输入密码\")):t!=v.password?r(new Error(\"重复密码不正确\")):r()},m=function(e,t,r){return\"\"===t?r(new Error(\"请输入验证码\")):Object(c[\"validateVCode\"])(t)?r(new Error(\"验证码格式有误\")):void r()},d=Object(l[\"g\"])([{txt:\"登录\",current:!0,type:\"login\"},{txt:\"注册\",current:!1,type:\"register\"}]),p=Object(l[\"h\"])(\"login\"),f=Object(l[\"h\"])(!0),g=Object(l[\"g\"])({status:!1,text:\"获取验证码\"}),b=Object(l[\"h\"])(null),v=Object(l[\"g\"])({username:\"2412526271@qq.com\",password:\"wo123456\",passwords:\"wo123456\",code:\"\"}),w=Object(l[\"g\"])({username:[{validator:o,trigger:\"blur\"}],password:[{validator:a,trigger:\"blur\"}],passwords:[{validator:i,trigger:\"blur\"}],code:[{validator:m,trigger:\"blur\"}]}),h=function(e){d.forEach((function(e,t){e.current=!1})),e.current=!0,p.value=e.type,x(),C()},x=function(){r.loginForm.resetFields()},F=function(e){g.status=e.status,g.text=e.text},j=function(){if(\"\"==v.username)return s.$message.error(\"邮箱不能为空！！\"),!1;if(Object(c[\"b\"])(v.username))return s.$message.error(\"邮箱格式有误，请重新输入！！\"),!1;var e={username:v.username,module:p.value};F({status:!0,text:\"发送中\"}),Object(u[\"a\"])(e).then((function(e){var t=e.data;s.$message({message:t.message,type:\"success\",dangerouslyUseHTMLString:!0}),f.value=!1,y(60)})).catch((function(e){f.value=!1,F({status:!1,text:\"再次获取\"}),console.log(e)}))},O=function(e){r[e].validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;\"login\"===p.value?k():_()}))},k=function(){var e={username:v.username,password:n()(v.password),code:v.code};s.$store.dispatch(\"app/login\",e).then((function(e){s.$router.push({name:\"Console\"})})).catch((function(e){}))},_=function(){var e={username:v.username,password:n()(v.password),code:v.code,module:\"register\"};Object(u[\"d\"])(e).then((function(e){var t=e.data;s.$message({message:t.message,type:\"success\"}),h(d[0]),C()})).catch((function(e){}))},y=function(e){b.value&&clearInterval(b.value);var t=e;b.value=setInterval((function(){t--,0===t?(clearInterval(b.value),F({status:!1,text:\"再次获取\"})):g.text=\"倒计时\".concat(t,\"秒\")}),1e3)},C=function(){F({status:!1,text:\"获取验证码\"}),clearInterval(b.value)};return Object(l[\"e\"])((function(){})),Object(l[\"f\"])((function(){clearInterval(b.value)})),{menuTab:d,model:p,loginButtonStatus:f,codeButtonStatus:g,ruleForm:v,rules:w,timer:b,toggleMenu:h,submitForm:O,getSms:j}}},m=i,d=(r(\"03ab\"),r(\"2877\")),p=Object(d[\"a\"])(m,s,o,!1,null,\"320a968a\",null);t[\"default\"]=p.exports}}]);","extractedComments":[]}