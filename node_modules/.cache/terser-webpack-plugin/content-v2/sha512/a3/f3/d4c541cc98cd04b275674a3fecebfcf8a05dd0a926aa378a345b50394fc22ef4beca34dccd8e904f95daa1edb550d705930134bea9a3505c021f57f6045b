{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6afb1e66\"],{5126:function(e,t,r){},5468:function(e,t,r){},7659:function(e,t,r){\"use strict\";r(\"5126\")},d9c9:function(e,t,r){\"use strict\";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{attrs:{id:\"login\"}},[r(\"div\",{staticClass:\"login-wrap\"},[r(\"ul\",{staticClass:\"menu-tab\"},e._l(e.menuTab,(function(t){return r(\"li\",{key:t.id,class:{current:t.current},on:{click:function(r){return e.toggleMenu(t)}}},[e._v(e._s(t.txt))])})),0),r(\"svg-icon\",{attrs:{\"icon-name\":\"menu\",\"class-name\":\"menu\"}}),r(\"el-form\",{ref:\"ruleForm\",staticClass:\"login-form\",attrs:{model:e.ruleForm,\"status-icon\":\"\",rules:e.rules,size:\"medium\"}},[r(\"el-form-item\",{staticClass:\"item-form\",attrs:{prop:\"username\"}},[r(\"label\",[e._v(\"邮箱\")]),r(\"el-input\",{attrs:{id:\"username\",type:\"text\",autocomplete:\"off\"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,\"username\",t)},expression:\"ruleForm.username\"}})],1),r(\"el-form-item\",{staticClass:\"item-form\",attrs:{prop:\"password\"}},[r(\"label\",[e._v(\"密码\")]),r(\"el-input\",{attrs:{id:\"password\",type:\"password\",autocomplete:\"off\",minlength:\"6\",maxlength:\"20\"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,\"password\",t)},expression:\"ruleForm.password\"}})],1),r(\"el-form-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"register\"===e.model,expression:\"model === 'register'\"}],staticClass:\"item-form\",attrs:{prop:\"passwords\"}},[r(\"label\",[e._v(\"重复密码\")]),r(\"el-input\",{attrs:{type:\"password\",autocomplete:\"off\",minlength:\"6\",maxlength:\"20\"},model:{value:e.ruleForm.passwords,callback:function(t){e.$set(e.ruleForm,\"passwords\",t)},expression:\"ruleForm.passwords\"}})],1),r(\"el-form-item\",{staticClass:\"item-form\",attrs:{prop:\"code\"}},[r(\"label\",[e._v(\"验证码\")]),r(\"el-row\",{attrs:{gutter:10}},[r(\"el-col\",{attrs:{span:15}},[r(\"el-input\",{attrs:{minlength:\"6\",maxlength:\"6\"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,\"code\",e._n(t))},expression:\"ruleForm.code\"}})],1),r(\"el-col\",{attrs:{span:9}},[r(\"el-button\",{staticClass:\"block\",attrs:{type:\"success\",disabled:e.codeButtonStatus.status},on:{click:function(t){return e.getSms()}}},[e._v(e._s(e.codeButtonStatus.text))])],1)],1)],1),r(\"el-form-item\",[r(\"el-button\",{staticClass:\"block login-btn\",attrs:{type:\"danger\",disabled:e.loginButtonStatus},on:{click:function(t){return e.submitForm(\"ruleForm\")}}},[e._v(e._s(\"login\"===e.model?\"登录\":\"注册\"))])],1)],1)],1)])},o=[],a=(r(\"4160\"),r(\"159b\"),r(\"6199\")),n=r.n(a),u=(r(\"5c96\"),r(\"7ded\")),l=r(\"a6f4\"),c=r(\"61f7\"),i={name:\"login\",setup:function(e,t){var r=t.refs,s=t.root,o=function(e,t,r){\"\"===t?r(new Error(\"请输入用户名\")):Object(c[\"c\"])(t)?r(new Error(\"用户名格式有误\")):r()},a=function(e,t,r){v.password=Object(c[\"a\"])(t),t=v.password,\"\"===t?r(new Error(\"请输入密码\")):Object(c[\"d\"])(t)?r(new Error(\"密码为6至20位的数字+字母\")):r()},i=function(e,t,r){\"login\"===f.value&&r(),v.passwords=Object(c[\"a\"])(t),t=v.passwords,\"\"===t?r(new Error(\"请再次输入密码\")):t!=v.password?r(new Error(\"重复密码不正确\")):r()},m=function(e,t,r){return\"\"===t?r(new Error(\"请输入验证码\")):Object(c[\"b\"])(t)?r(new Error(\"验证码格式有误\")):void r()},d=Object(l[\"f\"])([{txt:\"登录\",current:!0,type:\"login\"},{txt:\"注册\",current:!1,type:\"register\"}]),f=Object(l[\"g\"])(\"login\"),p=Object(l[\"g\"])(!0),g=Object(l[\"f\"])({status:!1,text:\"获取验证码\"}),b=Object(l[\"g\"])(null),v=Object(l[\"f\"])({username:\"2412526271@qq.com\",passeord:\"wode123456\",passwords:\"wode123456\",code:\"\"}),w=Object(l[\"f\"])({username:[{validator:o,trigger:\"blur\"}],password:[{validator:a,trigger:\"blur\"}],passwords:[{validator:i,trigger:\"blur\"}],code:[{validator:m,trigger:\"blur\"}]}),x=function(e){d.forEach((function(e,t){e.current=!1})),e.current=!0,f.value=e.type,h(),C()},h=function(){r.loginForm.resetFields()},F=function(){g.status=params.status,g.text=params.text},j=function(){return\"\"==v.username?(s.$message.error(\"邮箱不能为空！！！\"),!1):Object(c[\"c\"])(v.username)?(s.$message.error(\"邮箱格式有误，请重新输入！！！\"),!1):void 0},O={username:v.username,module:f.value};F({status:!0,text:\"发送中\"}),Object(u[\"a\"])(O).then((function(e){var t=e.data;s.$message({message:t.message,type:\"success\",dangerouslyUseHTMLString:!0}),p.value=!1,$(60)})).catch((function(e){p.value=!1,F({status:!1,text:\"再次获取\"}),console.log(e)}));var _=function(e){res[e].validate((function(e){if(!e)return console.log(\"error submit\"),!1;\"login\"===f.value?k():y()}))},k=function(){var e={username:v.username,passeord:n()(v.passeord),code:v.code};s.$store.dispatch(\"app/login\",e).then((function(e){s.$router.push({name:\"Console\"})})).catch((function(e){}))},y=function(){var e={username:v.username,password:n()(v.passeord),code:v.code,module:\"register\"};Object(u[\"d\"])(e).then((function(e){var t=e.data;s.$message({message:t.message,type:\"success\"}),x(d[0]),C()})).catch((function(e){}))},$=function(e){b.value&&clearInterval(b.value);var t=e;b.value=setInterval((function(){t--,0===t?(clearInterval(b.value),F({status:!1,text:\"再次获取\"})):g.text=\"倒计时\".concat(t,\"秒\")}),1e3)},C=function(){F({status:!1,text:\"获取验证码\"}),clearInterval(b,value)};return Object(l[\"d\"])((function(){})),Object(l[\"e\"])((function(){clearInterval(b,value)})),{menuTab:d,model:f,loginButtonStatus:p,codeButtonStatus:g,toggleMenu:x,submitForm:_,ruleForm:v,rules:w,getSms:j,timer:b}}},m=i,d=(r(\"7659\"),r(\"f6db\"),r(\"2877\")),f=Object(d[\"a\"])(m,s,o,!1,null,\"b6e38a96\",null);t[\"default\"]=f.exports},f6db:function(e,t,r){\"use strict\";r(\"5468\")}}]);","extractedComments":[]}